webpackJsonp([35],{124:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("header",{attrs:{id:"bigCustomerHeader"}},[a("a",{staticClass:"back",attrs:{href:"javascript:window.history.back();"}}),t._v("\n\t塑豆商城\n\t"),a("router-link",{staticStyle:{position:"absolute",right:"5px","font-size":"12px",color:"#FFFFFF"},attrs:{to:{name:"pointsrule"}}},[t._v("如何赚塑豆")])],1),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"mypoints"},[a("router-link",{attrs:{to:{name:"pointsdetail"}}},[a("i",{staticClass:"shopIcon iconPoints"}),a("span",[t._v(t._s(t.points))]),t._v("塑豆")]),t._v(" "),a("router-link",{attrs:{to:{name:"pointsrecord"}}},[a("i",{staticClass:"shopIcon iconIntro"}),t._v("购买记录")]),t._v(" "),a("router-link",{staticStyle:{color:"#ff5000"},attrs:{to:{name:"recharge"}}},[a("i",{staticClass:"shopIcon iconRecord"}),t._v("充值塑豆")])],1),t._v(" "),a("div",{staticClass:"pointsWrap"},[a("div",{staticClass:"pointsTitle"},[t._v("商品信息")]),t._v(" "),a("ul",{attrs:{id:"productUl"}},[a("li",[a("div",{staticStyle:{overflow:"hidden",padding:"10px 0 0 0",position:"relative"}},[a("img",{attrs:{src:t.p1.thumb}})]),t._v(" "),0==t.daySelected.length?a("div",{staticClass:"productNum"},[a("span",[t._v("*")]),t._v("请选置顶日期：\n\t\t\t\t"),a("i",{staticClass:"iconSelect",on:{click:t.calendarShow}})]):a("div",{staticClass:"calendarSelected"},[a("span",[t._v("已选择：")]),t._v(" "),a("div",{staticStyle:{width:"auto",margin:"0 25px 0 0",overflow:"hidden"}},[a("div",{staticClass:"calendarRange2",staticStyle:{width:"100%"}},t._l(t.daySelected,function(e){return a("span",[t._v(t._s(new Date(e).getMonth()+1)+"月"+t._s(new Date(e).getDate())+"日")])}))]),t._v(" "),a("i",{staticClass:"iconSelect",on:{click:t.calendarShow}})]),t._v(" "),a("div",{staticClass:"productCost"},[t._v("共"),a("span",[t._v(t._s(t.daySelected.length))]),t._v("件\n\t\t\t\t"),a("div",{staticClass:"exchange",on:{click:t.proExchange}},[t._v("支付")]),t._v(" "),a("div",{staticClass:"cost"},[t._v("总计："+t._s(t.pro.cost*t.daySelected.length)+"塑豆")])])]),t._v(" "),a("li",[a("div",{staticStyle:{overflow:"hidden",padding:"10px 0 0 0",position:"relative"}},[a("img",{attrs:{src:t.p2.thumb}})]),t._v(" "),t.selectedTxt?a("div",{staticClass:"productMsg",staticStyle:{"line-height":"45px"}},[a("span",{staticStyle:{color:"#333333"}},[t._v("已选择：")]),t._v(t._s(t.selectedTxt)+"\n\t\t\t\t"),a("i",{staticClass:"iconSelect",on:{click:t.releaseWrapShow}})]):a("div",{staticClass:"productMsg",staticStyle:{"line-height":"45px"}},[a("span",[t._v("*")]),t._v("请选择置顶供求信息：\n\t\t\t\t"),a("i",{staticClass:"iconSelect",on:{click:t.releaseWrapShow}})]),t._v(" "),0==t.daySelected2.length?a("div",{staticClass:"productNum"},[a("span",[t._v("*")]),t._v("请选置顶日期：\n\t\t\t\t"),a("i",{staticClass:"iconSelect",on:{click:t.calendarShow2}})]):a("div",{staticClass:"calendarSelected",staticStyle:{"border-top":"1px solid #D9D9D9"}},[a("span",[t._v("已选择：")]),t._v(" "),a("div",{staticStyle:{width:"auto",margin:"0 25px 0 0",overflow:"hidden"}},[a("div",{staticClass:"calendarRange2",staticStyle:{width:"100%"}},t._l(t.daySelected2,function(e){return a("span",[t._v(t._s(new Date(e).getMonth()+1)+"月"+t._s(new Date(e).getDate())+"日")])}))]),t._v(" "),a("i",{staticClass:"iconSelect",on:{click:t.calendarShow2}})]),t._v(" "),a("div",{staticClass:"productCost"},[t._v("共"),a("span",[t._v(t._s(t.daySelected2.length))]),t._v("件\n\t\t\t\t"),a("div",{staticClass:"exchange",on:{click:t.proExchange2}},[t._v("支付")]),t._v(" "),a("div",{staticClass:"cost"},[t._v("总计："+t._s(t.pro2.cost*t.daySelected2.length)+"塑豆")])])])])]),t._v(" "),t.dateShow?a("div",{staticClass:"calendarLayer"},[a("div",{staticClass:"calendarWrap"},[a("div",{staticClass:"calendarNav"},[t._v("通讯录一天置顶卡"),a("span",{on:{click:t.calendarHide}},[t._v("X")])]),t._v(" "),a("div",{staticClass:"calendarTitle"},[t._v("日期选择：")]),t._v(" "),a("div",{staticClass:"calendar",attrs:{id:"calendar"}},[a("div",{staticClass:"calendar-title-box"},[a("span",{staticClass:"calendar-title",attrs:{id:"calendarTitle"}},[t._v(t._s(t.currentYear)+"年"+t._s(t.currentMonth)+"月")])]),t._v(" "),a("div",{staticClass:"calendar-body-box"},[t._m(1),t._v(" "),a("ul",{staticClass:"days"},t._l(t.days,function(e){return a("li",[e.show?a("span",{class:{disabled:e.disabled,on:e.on},on:{click:function(a){t.pick(e.day)}}},[t._v(t._s(new Date(e.day).getDate()))]):t._e()])}))])]),t._v(" "),a("div",{staticClass:"calendar",attrs:{id:"calendar2"}},[a("div",{staticClass:"calendar-title-box"},[a("span",{staticClass:"calendar-title",attrs:{id:"calendarTitle"}},[t._v(t._s(t.currentYear2)+"年"+t._s(t.currentMonth2)+"月")])]),t._v(" "),a("div",{staticClass:"calendar-body-box"},[t._m(2),t._v(" "),a("ul",{staticClass:"days"},t._l(t.days2,function(e){return a("li",[e.show?a("span",{class:{disabled:e.disabled,on:e.on},on:{click:function(a){t.pick(e.day)}}},[t._v(t._s(new Date(e.day).getDate()))]):t._e()])}))])]),t._v(" "),a("div",{staticClass:"calendarSelected"},[a("span",[t._v("已选择：")]),t._v(" "),a("div",{staticClass:"calendarRange"},t._l(t.daySelected,function(e){return a("span",[t._v(t._s(new Date(e).getMonth()+1)+"月"+t._s(new Date(e).getDate())+"日")])}))])])]):t._e(),t._v(" "),t.dateShow2?a("div",{staticClass:"calendarLayer"},[a("div",{staticClass:"calendarWrap"},[a("div",{staticClass:"calendarNav"},[t._v("供求信息一天置顶卡"),a("span",{on:{click:t.calendarHide2}},[t._v("X")])]),t._v(" "),a("div",{staticClass:"calendarTitle"},[t._v("日期选择：")]),t._v(" "),a("div",{staticClass:"calendar",attrs:{id:"calendar"}},[a("div",{staticClass:"calendar-title-box"},[a("span",{staticClass:"calendar-title",attrs:{id:"calendarTitle"}},[t._v(t._s(t.currentYear_)+"年"+t._s(t.currentMonth_)+"月")])]),t._v(" "),a("div",{staticClass:"calendar-body-box"},[t._m(3),t._v(" "),a("ul",{staticClass:"days"},t._l(t.days_,function(e){return a("li",[e.show?a("span",{class:{disabled:e.disabled,on:e.on},on:{click:function(a){t.pick2(e.day)}}},[t._v(t._s(new Date(e.day).getDate()))]):t._e()])}))])]),t._v(" "),a("div",{staticClass:"calendar",attrs:{id:"calendar2"}},[a("div",{staticClass:"calendar-title-box"},[a("span",{staticClass:"calendar-title",attrs:{id:"calendarTitle"}},[t._v(t._s(t.currentYear2_)+"年"+t._s(t.currentMonth2_)+"月")])]),t._v(" "),a("div",{staticClass:"calendar-body-box"},[t._m(4),t._v(" "),a("ul",{staticClass:"days"},t._l(t.days2_,function(e){return a("li",[e.show?a("span",{class:{disabled:e.disabled,on:e.on},on:{click:function(a){t.pick2(e.day)}}},[t._v(t._s(new Date(e.day).getDate()))]):t._e()])}))])]),t._v(" "),a("div",{staticClass:"calendarSelected"},[a("span",[t._v("已选择：")]),t._v(" "),a("div",{staticClass:"calendarRange"},t._l(t.daySelected2,function(e){return a("span",[t._v(t._s(new Date(e).getMonth()+1)+"月"+t._s(new Date(e).getDate())+"日")])}))])])]):t._e(),t._v(" "),t.releaseShow?a("div",{staticClass:"calendarLayer"},[a("div",{staticClass:"calendarWrap2"},[a("div",{staticClass:"calendarNav"},[t._v("供求信息一天置顶卡"),a("span",{on:{click:t.releaseWrapHide}},[t._v("X")])]),t._v(" "),a("div",{staticClass:"calendarTitle"},[t._v("供求信息选择(限选一条)：")]),t._v(" "),a("div",{staticClass:"proMsgLi"},t._l(t.p2.myMsg,function(e){return a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],attrs:{type:"radio",name:"msg"},domProps:{value:e.id,checked:t._q(t.selected,e.id)},on:{__c:function(a){t.selected=e.id}}}),t._v(" "+t._s(e.input_time)+"\r\n\t\t\t\t"),a("br"),t._v(" 供求：\r\n\t\t\t\t"),a("span",[t._v(t._s(e.contents))])])})),t._v(" "),a("div",{staticClass:"calendarSelected",staticStyle:{"border-top":"1px solid #ddd"}},[a("span",[t._v("已选择：")]),t._v(" "),a("div",[t._v(t._s(t.selectedTxt))])])])]):t._e()])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"shopBanner"},[a("img",{attrs:{width:"100%",src:"http://statics.myplas.com/myapp/img/shopBanner.jpg"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"weekdays"},[a("li",[t._v("日")]),t._v(" "),a("li",[t._v("一")]),t._v(" "),a("li",[t._v("二")]),t._v(" "),a("li",[t._v("三")]),t._v(" "),a("li",[t._v("四")]),t._v(" "),a("li",[t._v("五")]),t._v(" "),a("li",[t._v("六")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"weekdays"},[a("li",[t._v("日")]),t._v(" "),a("li",[t._v("一")]),t._v(" "),a("li",[t._v("二")]),t._v(" "),a("li",[t._v("三")]),t._v(" "),a("li",[t._v("四")]),t._v(" "),a("li",[t._v("五")]),t._v(" "),a("li",[t._v("六")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"weekdays"},[a("li",[t._v("日")]),t._v(" "),a("li",[t._v("一")]),t._v(" "),a("li",[t._v("二")]),t._v(" "),a("li",[t._v("三")]),t._v(" "),a("li",[t._v("四")]),t._v(" "),a("li",[t._v("五")]),t._v(" "),a("li",[t._v("六")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"weekdays"},[a("li",[t._v("日")]),t._v(" "),a("li",[t._v("一")]),t._v(" "),a("li",[t._v("二")]),t._v(" "),a("li",[t._v("三")]),t._v(" "),a("li",[t._v("四")]),t._v(" "),a("li",[t._v("五")]),t._v(" "),a("li",[t._v("六")])])}]}},20:function(t,e,a){var s=a(46)(a(82),a(124),null,null);t.exports=s.exports},46:function(t,e){t.exports=function(t,e,a,s){var n,i=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(n=t,i=t.default);var c="function"==typeof i?i.options:i;if(e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns),a&&(c._scopeId=a),s){var o=Object.create(c.computed||null);Object.keys(s).forEach(function(t){var e=s[t];o[t]=function(){return e}}),c.computed=o}return{esModule:n,exports:i,options:c}}},82:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{p1:"",p2:"",points:0,pro:{id:"",cost:100},pro2:{id:"",cost:100},selected:"",releaseTxt:[],selectedTxt:"",currentMonth:1,currentYear:1970,currentMonth2:1,currentYear2:1970,days:[],days2:[],daySelected:[],dateShow:!1,currentMonth_:1,currentYear_:1970,currentMonth2_:1,currentYear2_:1970,days_:[],days2_:[],daySelected2:[],dateShow2:!1,releaseShow:!1}},watch:{selected:function(){var t=this;this.selected&&this.releaseTxt.forEach(function(e,a,s){e.id==t.selected&&(t.selectedTxt="供求："+e.contents)})}},methods:{calendarShow:function(){this.dateShow=!0},calendarHide:function(){this.dateShow=!1},calendarShow2:function(){this.dateShow2=!0},calendarHide2:function(){this.dateShow2=!1},releaseWrapShow:function(){this.releaseShow=!0},releaseWrapHide:function(){this.releaseShow=!1},initCalendar:function(t,e,a){var s=this,n=new Date(t).getFullYear(),i=new Date(t).getMonth()+1,l=new Date(n,i-1,1),c=[],o=new Date(t).getDate();this.currentYear=new Date(t).getFullYear(),this.currentMonth=new Date(t).getMonth()+1;for(var r=0;r<35;r++){var d=new Date(n,i-1,r+1-l.getDay()),v=this.formatDate(d),v={day:s.formatDate(d),disabled:!1,show:!1,on:!1};c.push(v)}c.forEach(function(t,e,a){new Date(t.day).getDate()<o&&(c[e].disabled=!0),new Date(t.day).getMonth()==i-1&&(c[e].show=!0)}),a.forEach(function(t,e,a){for(var e=0;e<c.length;e++)c[e].day==t&&(c[e].disabled=!0)}),this.days=c;var _=new Date(e).getFullYear(),u=new Date(e).getMonth()+1,h=new Date(_,u-1,1),p=[],y=new Date(e).getDate();this.currentYear2=new Date(e).getFullYear(),this.currentMonth2=new Date(e).getMonth()+1;for(var r=0;r<35;r++){var f=new Date(_,u-1,r+1-h.getDay()),w=this.formatDate(f),w={day:s.formatDate(f),disabled:!1,show:!1,on:!1};p.push(w)}p.forEach(function(t,e,a){new Date(t.day).getDate()>y&&(p[e].disabled=!0),new Date(t.day).getMonth()==u-1&&(p[e].show=!0)}),a.forEach(function(t,e,a){for(var e=0;e<p.length;e++)p[e].day==t&&(p[e].disabled=!0)}),this.days2=p,this.totalDays=this.days.concat(this.days2)},initCalendar2:function(t,e,a){var s=this,n=new Date(t).getFullYear(),i=new Date(t).getMonth()+1,l=new Date(n,i-1,1),c=[],o=new Date(t).getDate();this.currentYear_=new Date(t).getFullYear(),this.currentMonth_=new Date(t).getMonth()+1;for(var r=0;r<35;r++){var d=new Date(n,i-1,r+1-l.getDay()),v=this.formatDate(d),v={day:s.formatDate(d),disabled:!1,show:!1,on:!1};c.push(v)}c.forEach(function(t,e,a){new Date(t.day).getDate()<o&&(c[e].disabled=!0),new Date(t.day).getMonth()==i-1&&(c[e].show=!0)}),a.forEach(function(t,e,a){for(var e=0;e<c.length;e++)c[e].day==t&&(c[e].disabled=!0)}),this.days_=c;var _=new Date(e).getFullYear(),u=new Date(e).getMonth()+1,h=new Date(_,u-1,1),p=[],y=new Date(e).getDate();this.currentYear2_=new Date(e).getFullYear(),this.currentMonth2_=new Date(e).getMonth()+1;for(var r=0;r<35;r++){var f=new Date(_,u-1,r+1-h.getDay()),w=this.formatDate(f),w={day:s.formatDate(f),disabled:!1,show:!1,on:!1};p.push(w)}p.forEach(function(t,e,a){new Date(t.day).getDate()>y&&(p[e].disabled=!0),new Date(t.day).getMonth()==u-1&&(p[e].show=!0)}),a.forEach(function(t,e,a){for(var e=0;e<p.length;e++)p[e].day==t&&(p[e].disabled=!0)}),this.days2_=p,this.totalDays2=this.days_.concat(this.days2_)},pick:function(t){var e=this;if(-1==this.daySelected.indexOf(t))this.daySelected.push(t),this.totalDays.forEach(function(e,a,s){e.day==t&&(e.on=!0)});else{var a=e.daySelected.indexOf(t);this.daySelected.splice(a,1),this.totalDays.forEach(function(e,a,s){e.day==t&&(e.on=!1)})}console.log(this.daySelected)},pick2:function(t){var e=this;if(-1==this.daySelected2.indexOf(t))this.daySelected2.push(t),this.totalDays2.forEach(function(e,a,s){e.day==t&&(e.on=!0)});else{var a=e.daySelected2.indexOf(t);this.daySelected2.splice(a,1),this.totalDays2.forEach(function(e,a,s){e.day==t&&(e.on=!1)})}console.log(this.daySelected2)},formatDate:function(t){var e=t.getFullYear(),a=t.getMonth()+1,s=t.getDate();return a=a>9?""+a:"0"+a,s=s>9?""+s:"0"+s,e+"-"+a+"-"+s},proExchange:function(){var t=this;0!=this.daySelected.length?$.ajax({type:"post",url:version+"/product/newExchangeSupplyOrDemand",data:{token:window.localStorage.getItem("token"),goods_id:t.pro.id,dates:t.daySelected.join(),pur_id:""},headers:{"X-UA":window.localStorage.getItem("XUA")},dataType:"JSON"}).then(function(t){0==t.err?weui.alert("兑换成功",{title:"塑料圈通讯录",buttons:[{label:"确定",type:"parimary",onClick:function(){window.location.reload()}}]}):weui.alert(t.msg,{title:"塑料圈通讯录",buttons:[{label:"确定",type:"parimary",onClick:function(){}}]})},function(){}):weui.alert("请选择置顶日期",{title:"塑料圈通讯录",buttons:[{label:"确定",type:"parimary",onClick:function(){}}]})},proExchange2:function(){var t=this;this.selected&&0!=this.daySelected2.length?$.ajax({type:"post",url:version+"/product/newExchangeSupplyOrDemand",data:{token:window.localStorage.getItem("token"),goods_id:t.pro2.id,dates:t.daySelected2.join(),pur_id:t.selected},headers:{"X-UA":window.localStorage.getItem("XUA")},dataType:"JSON"}).then(function(t){0==t.err?weui.alert("兑换成功",{title:"塑料圈通讯录",buttons:[{label:"确定",type:"parimary",onClick:function(){window.location.reload()}}]}):weui.alert(t.msg,{title:"塑料圈通讯录",buttons:[{label:"确定",type:"parimary",onClick:function(){}}]})},function(){}):weui.alert("请选择置顶日期和置顶信息",{title:"塑料圈通讯录",buttons:[{label:"确定",type:"parimary",onClick:function(){}}]})}},activated:function(){this.daySelected=[],this.daySelected2=[];var t=this;window.scrollTo(0,0);try{Piwik.getTracker("http://wa.myplas.com/piwik.php",2).trackPageView()}catch(t){}$.ajax({type:"post",url:version+"/product/getValidDate",data:{type:2},headers:{"X-UA":window.localStorage.getItem("XUA")},dataType:"JSON"}).then(function(e){0==e.err&&t.initCalendar(e.start_date,e.end_date,e.took_date)},function(){}),$.ajax({type:"post",url:version+"/product/getValidDate",data:{type:1},headers:{"X-UA":window.localStorage.getItem("XUA")},dataType:"JSON"}).then(function(e){0==e.err&&t.initCalendar2(e.start_date,e.end_date,e.took_date)},function(){}),$.ajax({type:"post",url:version+"/product/getProductList",data:{token:window.localStorage.getItem("token"),page:1,size:10},headers:{"X-UA":window.localStorage.getItem("XUA")},dataType:"JSON"}).then(function(e){1==e.err?weui.alert(e.msg,{title:"塑料圈通讯录",buttons:[{label:"确定",type:"parimary",onClick:function(){t.$router.push({name:"login"})}}]}):(t.p1=e.info[0],t.p2=e.info[1],t.releaseTxt=e.info[1].myMsg,t.pro.price=e.info[0].points,t.pro2.price=e.info[1].points,t.pro.id=e.info[0].id,t.pro2.id=e.info[1].id,t.points=e.pointsAll,console.log(t.releaseTxt))},function(){})}}}});